"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[834],{60834:function(e,l,s){s.d(l,{i:function(){return V}});var a=s(57437),t=s(5887),n=s(81006),i=s(2265),r=s(62177),o=s(57654),c=s(22782),d=s(34645),u=s(81100),g=s(97081);function x(e){let{table:l}=e;return(0,a.jsxs)(d.h_,{children:[(0,a.jsx)(u.$F,{asChild:!0,children:(0,a.jsxs)(o.z,{variant:"outline",size:"sm",className:"ml-auto hidden h-8 lg:flex",children:[(0,a.jsx)(r.hsZ,{className:"mr-2 h-4 w-4"}),"View"]})}),(0,a.jsxs)(d.AW,{align:"end",className:"min-w-[200px]",children:[(0,a.jsx)(d.Ju,{children:"Toggle columns"}),(0,a.jsx)(d.VD,{}),l.getAllColumns().filter(e=>void 0!==e.accessorFn&&e.getCanHide()).map(e=>(0,a.jsx)(d.bO,{className:"capitalize",checked:e.getIsVisible(),onCheckedChange:l=>e.toggleVisibility(!!l),children:(0,g.rV)(e.id)},e.id))]})]})}var m=s(26739),h=s(82012),p=s(22169),v=s(33277),j=s(95453);function f(e){let{column:l,title:s,options:t}=e,n=null==l?void 0:l.getFacetedUniqueValues(),i=new Set(null==l?void 0:l.getFilterValue());return(0,a.jsxs)(h.J2,{children:[(0,a.jsx)(h.xo,{asChild:!0,children:(0,a.jsxs)(o.z,{variant:"outline",size:"sm",className:"h-8 border-dashed",children:[(0,a.jsx)(r.SPS,{className:"mr-2 h-4 w-4"}),s,(null==i?void 0:i.size)>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(j.Z,{orientation:"vertical",className:"mx-2 h-4"}),(0,a.jsx)(v.C,{variant:"secondary",className:"rounded-sm px-1 font-normal lg:hidden",children:i.size}),(0,a.jsx)("div",{className:"hidden space-x-1 lg:flex",children:i.size>2?(0,a.jsxs)(v.C,{variant:"secondary",className:"rounded-sm px-1 font-normal",children:[i.size," selected"]}):t.filter(e=>i.has(e.value)).map(e=>(0,a.jsx)(v.C,{variant:"secondary",className:"rounded-sm px-1 font-normal",children:e.label},e.value))})]})]})}),(0,a.jsx)(h.yk,{className:"w-[200px] p-0",align:"start",children:(0,a.jsxs)(m.mY,{children:[(0,a.jsx)(m.sZ,{placeholder:s}),(0,a.jsxs)(m.e8,{children:[(0,a.jsx)(m.rb,{children:"No results found."}),(0,a.jsx)(m.fu,{children:t.map(e=>{let s=i.has(e.value);return(0,a.jsxs)(m.di,{onSelect:()=>{s?i.delete(e.value):i.add(e.value);let a=Array.from(i);null==l||l.setFilterValue(a.length?a:void 0)},children:[(0,a.jsx)("div",{className:(0,p.cn)("mr-2 flex h-4 w-4 items-center justify-center rounded-sm border border-primary",s?"bg-primary text-primary-foreground":"opacity-50 [&_svg]:invisible"),children:(0,a.jsx)(r.nQG,{className:(0,p.cn)("h-4 w-4")})}),e.icon&&(0,a.jsx)(e.icon,{className:"mr-2 h-4 w-4 text-muted-foreground"}),(0,a.jsx)("span",{children:e.label}),(null==n?void 0:n.get(e.value))&&(0,a.jsx)("span",{className:"ml-auto flex h-4 w-4 items-center justify-center font-mono text-xs",children:n.get(e.value)})]},e.value)})}),i.size>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m.zz,{}),(0,a.jsx)(m.fu,{children:(0,a.jsx)(m.di,{onSelect:()=>null==l?void 0:l.setFilterValue(void 0),className:"justify-center text-center",children:"Clear filters"})})]})]})]})})]})}function N(e){let{table:l,filterTitle:s,columns:t}=e,n=l.getState().columnFilters.length>0,[d,u]=(0,i.useState)("");return(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex flex-1 items-center space-x-2",children:[(0,a.jsx)(c.I,{placeholder:null!=s?s:"Filter",name:"filter",className:"h-8 w-[150px] lg:w-[250px]",value:d,onChange:e=>u(e.target.value)}),(0,a.jsx)(o.z,{type:"button",className:"h-8 px-2 lg:px-3",onClick:()=>{var e;return null===(e=l.getColumn("name"))||void 0===e?void 0:e.setFilterValue(d)},children:"Search"}),t.map(e=>{var s;if("accessorKey"in e&&e.filterFn&&(null==e?void 0:null===(s=e.filterOptions)||void 0===s?void 0:s.length)){let s=e.accessorKey;return(0,a.jsx)(f,{column:l.getColumn(s),title:(0,g.rV)(s),options:e.filterOptions},s)}}),n&&(0,a.jsxs)(o.z,{variant:"ghost",onClick:()=>{l.resetColumnFilters(),u("")},className:"h-8 px-2 lg:px-3",children:["Reset",(0,a.jsx)(r.Pxu,{className:"ml-2 h-4 w-4"})]})]}),(0,a.jsx)(x,{table:l})]})}var w=s(18641);function C(e){let{table:l}=e;return(0,a.jsxs)("div",{className:"flex items-center justify-between px-2",children:[(0,a.jsxs)("div",{className:"flex-1 text-sm text-muted-foreground",children:[l.getFilteredSelectedRowModel().rows.length," of"," ",l.getFilteredRowModel().rows.length," row(s) selected."]}),(0,a.jsxs)("div",{className:"flex items-center space-x-6 lg:space-x-8",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Rows per page"}),(0,a.jsxs)(w.Ph,{value:"".concat(l.getState().pagination.pageSize),onValueChange:e=>{l.setPageSize(Number(e))},children:[(0,a.jsx)(w.i4,{className:"h-8 w-[70px]",children:(0,a.jsx)(w.ki,{placeholder:l.getState().pagination.pageSize})}),(0,a.jsx)(w.Bw,{side:"top",children:[5,10,20,30,40,50].map(e=>(0,a.jsx)(w.Ql,{value:"".concat(e),children:e},e))})]})]}),(0,a.jsxs)("div",{className:"flex w-[100px] items-center justify-center text-sm font-medium",children:["Page ",l.getState().pagination.pageIndex+1," of"," ",l.getPageCount()]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsxs)(o.z,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>l.setPageIndex(0),disabled:!l.getCanPreviousPage(),children:[(0,a.jsx)("span",{className:"sr-only",children:"Go to first page"}),(0,a.jsx)(r.kRt,{className:"h-4 w-4"})]}),(0,a.jsxs)(o.z,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>l.previousPage(),disabled:!l.getCanPreviousPage(),children:[(0,a.jsx)("span",{className:"sr-only",children:"Go to previous page"}),(0,a.jsx)(r.wyc,{className:"h-4 w-4"})]}),(0,a.jsxs)(o.z,{variant:"outline",className:"h-8 w-8 p-0",onClick:()=>l.nextPage(),disabled:!l.getCanNextPage(),children:[(0,a.jsx)("span",{className:"sr-only",children:"Go to next page"}),(0,a.jsx)(r.XCv,{className:"h-4 w-4"})]}),(0,a.jsxs)(o.z,{variant:"outline",className:"hidden h-8 w-8 p-0 lg:flex",onClick:()=>l.setPageIndex(l.getPageCount()-1),disabled:!l.getCanNextPage(),children:[(0,a.jsx)("span",{className:"sr-only",children:"Go to last page"}),(0,a.jsx)(r.yr4,{className:"h-4 w-4"})]})]})]})]})}var S=s(86969);let b=i.forwardRef((e,l)=>{let{className:s,...t}=e;return(0,a.jsx)(S.fC,{ref:l,className:(0,p.cn)("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",s),...t,children:(0,a.jsx)(S.z$,{className:(0,p.cn)("flex items-center justify-center text-current"),children:(0,a.jsx)(r.nQG,{className:"h-4 w-4"})})})});b.displayName=S.fC.displayName;var y=s(63280),z=s(27453);let P=(e,l)=>[...l?[{id:"select",meta:{className:"w-8"},header:e=>{let{table:l}=e;return(0,a.jsx)(b,{checked:l.getIsAllPageRowsSelected()||l.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:e=>l.toggleAllPageRowsSelected(!!e),"aria-label":"Select all"})},cell:e=>{let{row:l}=e;return(0,a.jsx)(b,{checked:l.getIsSelected(),onCheckedChange:e=>l.toggleSelected(!!e),"aria-label":"Select row"})},enableSorting:!1,enableHiding:!1}]:[],...null!=e?e:[]],k=e=>{let{pageCount:l,columns:s,ssr:a,enableRowSelection:t,getRowId:n,onRowSelectionChange:i,onSortingChange:r,onColumnFiltersChange:o,onColumnVisibilityChange:c,onPaginationChange:d}=e;return{data:[],columns:P(s,t),globalFilterFn:(e,l,s)=>(()=>{let s=e.getValue(l);return"string"!=typeof s?String(s):s})().toLowerCase().includes(s.toLowerCase()),manualFiltering:a,manualSorting:a,manualPagination:a,enableRowSelection:!0,autoResetPageIndex:!a,pageCount:l,getRowId:n,onPaginationChange:d,onRowSelectionChange:i,onSortingChange:r,onColumnFiltersChange:o,onColumnVisibilityChange:c,getCoreRowModel:(0,y.sC)(),getFilteredRowModel:(0,y.vL)(),getPaginationRowModel:(0,y.G_)(),getSortedRowModel:(0,y.tj)(),getFacetedRowModel:(0,y.o6)(),getFacetedUniqueValues:(0,y.JG)()}},F=e=>{let{sorting:l,pagination:s,columnFilters:a,initialized:t,ssr:n,resetPage:i,request:r,setData:o,setPaginationData:c,setPagination:d,setLoading:u}=e;if(!t.current||!n||!r){setTimeout(()=>{t.current=!0},0);return}(async()=>{var e,t,n,g,x,m;null==u||u(!0);try{let u=await r({pagination:s,sorting:l,columnFilters:a});if(!u)return;null==o||o(null!==(e=null==u?void 0:u.items)&&void 0!==e?e:[]),c({current_page:null!==(t=null==u?void 0:u.current_page)&&void 0!==t?t:1,last_page:null!==(n=null==u?void 0:u.last_page)&&void 0!==n?n:1,per_page:null!==(g=null==u?void 0:u.per_page)&&void 0!==g?g:10,total:null!==(x=null==u?void 0:u.total)&&void 0!==x?x:0}),i&&d({pageIndex:0,pageSize:s.pageSize})}catch(e){console.error(e),z.h4.error(null!==(m=e.message)&&void 0!==m?m:"Something went wrong")}null==u||u(!1)})()},R=e=>{var l,s;let[{pageIndex:a,pageSize:t},n]=(0,i.useState)({pageIndex:(null!==(l=null==e?void 0:e.current_page)&&void 0!==l?l:1)-1,pageSize:null!==(s=null==e?void 0:e.per_page)&&void 0!==s?s:10});return{pagination:(0,i.useMemo)(()=>({pageIndex:a,pageSize:t}),[a,t]),setPagination:n}};var _=s(75006);let V=e=>{var l,s,r,o,c;let{className:d,ssr:u,columns:g,filterTitle:x,enableRowSelection:m,hideToolbar:h,request:v,getRowId:j,onRowSelectionChange:f}=e,[w,S]=(0,i.useState)(null!==(r=e.data)&&void 0!==r?r:[]),[b,y]=(0,i.useState)(!1),[z,P]=(0,i.useState)({}),[V,I]=(0,i.useState)({}),[M,G]=(0,i.useState)([]),[E,A]=(0,i.useState)((null!==(o=e.sort)&&void 0!==o?o:"").split(",").filter(e=>!!e.trim()).map(e=>{let l=!1;return e.startsWith("-")&&(l=!0,e=e.substring(1)),{id:e,desc:l}})),[D,O]=(0,i.useState)(e.pagination),{pagination:H,setPagination:J}=R(e.pagination),L=(0,i.useRef)(!1),Q=(0,n.b7)({...k({pageCount:u?null==D?void 0:D.last_page:void 0,columns:g,enableRowSelection:m,ssr:u,getRowId:j,onPaginationChange:J,onRowSelectionChange:P,onSortingChange:A,onColumnFiltersChange:G,onColumnVisibilityChange:I}),data:w,state:{sorting:E,columnVisibility:V,rowSelection:z,columnFilters:M,pagination:H}});(0,i.useEffect)(()=>{var l;S(null!==(l=e.data)&&void 0!==l?l:[])},[e.data]),(0,i.useEffect)(()=>{O(e.pagination)},[e.pagination]);let T=e=>F({sorting:E,pagination:H,columnFilters:M,initialized:L,ssr:u,resetPage:e,request:v,setData:S,setPaginationData:O,setPagination:J,setLoading:y});return(0,i.useEffect)(T,[H,E]),(0,i.useEffect)(()=>T(!0),[M]),(0,i.useEffect)(()=>null==f?void 0:f(Object.keys(z)),[z]),(0,a.jsxs)("div",{className:"space-y-4",children:[!h&&(0,a.jsx)(N,{table:Q,columns:g,filterTitle:x}),b&&(0,a.jsx)(_.g,{className:"absolute"}),(0,a.jsx)("div",{className:(0,p.cn)("relative rounded-md border overflow-auto",d),children:(0,a.jsxs)(t.iA,{className:"table-fixed",children:[(0,a.jsx)(t.xD,{children:Q.getHeaderGroups().map(e=>(0,a.jsx)(t.SC,{children:e.headers.map(e=>{var l,s;let i=(0,p.cn)("px-3",(null!==(s=null===(l=e.column.columnDef)||void 0===l?void 0:l.meta)&&void 0!==s?s:{}).className);return(0,a.jsx)(t.ss,{className:i,children:e.isPlaceholder?null:(0,n.ie)(e.column.columnDef.header,e.getContext())},e.id)})},e.id))}),(0,a.jsx)(t.RM,{children:(null===(l=Q.getRowModel().rows)||void 0===l?void 0:l.length)?Q.getRowModel().rows.map(e=>(0,a.jsx)(t.SC,{"data-state":e.getIsSelected()&&"selected",children:e.getVisibleCells().map(e=>(0,a.jsx)(t.pj,{className:"px-3",children:(0,n.ie)(e.column.columnDef.cell,e.getContext())},e.id))},e.id)):(0,a.jsx)(t.SC,{children:(0,a.jsx)(t.pj,{colSpan:g.length+1,className:"h-24 text-center",children:"No results."})})})]})}),(null!==(c=null==e?void 0:null===(s=e.pagination)||void 0===s?void 0:s.last_page)&&void 0!==c?c:1)>1&&(0,a.jsx)(C,{table:Q})]})}}}]);