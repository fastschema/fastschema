(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[292],{83877:function(e,t,n){Promise.resolve().then(n.bind(n,23669))},2252:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.352.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,n(70843).Z)("OctagonAlert",[["polygon",{points:"7.86 2 16.14 2 22 7.86 22 16.14 16.14 22 7.86 22 2 16.14 2 7.86 7.86 2",key:"h1p8hx"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},95601:function(e,t){"use strict";function n(){return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n}}),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},23669:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return x}});var r=n(57437),l=n(8792),a=n(70769),i=n(60834),o=n(27453),s=n(39997),u=n(99773),c=n(30142),d=n(33277),m=n(96304),f=n(2265),p=n(79984),v=n(95453);let h=()=>{let{reloadAppConfig:e}=(0,f.useContext)(p.Il);return[{accessorKey:"name",enableSorting:!0,enableHiding:!0,filterFn:c.i,header:e=>{let{column:t}=e;return(0,r.jsx)(s.Q,{column:t,title:"Name"})},cell:e=>{let{row:t}=e;return(0,r.jsx)("div",{className:"flex space-x-2",children:(0,r.jsx)("span",{className:"max-w-[500px] truncate font-medium",children:t.getValue("name")})})}},{accessorKey:"namespace",enableSorting:!0,enableHiding:!0,filterFn:c.i,header:e=>{let{column:t}=e;return(0,r.jsx)(s.Q,{column:t,title:"Namespace"})},cell:e=>{let{row:t}=e;return(0,r.jsx)("div",{className:"flex space-x-2",children:(0,r.jsx)("span",{className:"max-w-[500px] truncate font-medium",children:t.getValue("namespace")})})}},{accessorKey:"is_system_schema",header:e=>{let{column:t}=e;return(0,r.jsx)(s.Q,{column:t,title:"System"})},cell:e=>{let{row:t}=e;return(0,r.jsx)("div",{className:"w-[80px]",children:t.getValue("is_system_schema")?(0,r.jsx)(d.C,{children:"System"}):null})},filterFn:(e,t,n)=>n===e.getValue(t),enableSorting:!0,enableHiding:!0},{accessorKey:"label_field",filterFn:c.i,header:e=>{let{column:t}=e;return(0,r.jsx)(s.Q,{column:t,title:"Label field"})},cell:e=>{let{row:t}=e;return(0,r.jsx)("div",{className:"w-[80px]",children:t.getValue("label_field")})},enableSorting:!0,enableHiding:!0},{accessorKey:"disable_timestamp",filterFn:c.i,filterOptions:[{label:"True",value:!0},{label:"False",value:!1}],header:e=>{let{column:t}=e;return(0,r.jsx)(s.Q,{column:t,title:"Timestamp"})},cell:e=>{let{row:t}=e,n=t.getValue("disable_timestamp");return(0,r.jsx)("div",{className:"w-[80px]",children:(0,r.jsx)(d.C,{variant:n?"default":"secondary",children:String(n)})})},enableSorting:!1,enableHiding:!1},{accessorKey:"fields",header:e=>{let{column:t}=e;return(0,r.jsx)(s.Q,{column:t,title:"Fields"})},cell:e=>{var t;let{row:n}=e;return(0,r.jsx)("div",{className:"w-[80px]",children:null===(t=n.getValue("fields"))||void 0===t?void 0:t.length})},enableSorting:!1,enableHiding:!0},{id:"actions",cell:t=>{let{row:n}=t,a=u.Pl.parse(n.original);return(0,r.jsxs)("div",{className:"flex h-5 items-center space-x-4 text-sm min-w-[80px]",children:[(0,r.jsx)(l.default,{className:"cursor-pointer hover:underline",href:"/schemas/edit?schema=".concat(a.name),children:"Edit"}),!a.is_system_schema&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(v.Z,{orientation:"vertical"}),(0,r.jsx)("button",{className:"cursor-pointer hover:underline text-red-800",onClick:async()=>{if(confirm("Are you sure you want to delete this schema: ".concat(a.name,"?")))try{await (0,m.uV)(a.name),o.Vp("Schema ".concat(a.name," deleted")),e()}catch(e){o.vU(e.message)}},children:"Delete"})]})]})}}]};var g=n(57654),b=n(34560);function x(){let{appConfig:e}=(0,f.useContext)(p.Il),t=h();return(0,f.useEffect)(()=>((0,b.D8)({title:"Schemas list",description:"List of all schemas.",breadcrumbs:[{name:"Schema",path:"/schemas"}],actions:[(0,r.jsx)(l.default,{href:"/schemas/edit",children:(0,r.jsx)(g.z,{size:"sm",icon:(0,r.jsx)(a.Z,{className:"mr-2 h-4 w-4"}),children:"New Schema"})},"create")]}),b.D8),[]),(0,r.jsx)(i.i,{data:e.schemas,columns:t,getRowId:e=>e.name,filterTitle:"Filter schemas"})}},30142:function(e,t,n){"use strict";n.d(t,{i:function(){return r}});let r=(e,t,n)=>String(e.getValue(t)).toLocaleLowerCase().includes(String(n).toLocaleLowerCase())},39997:function(e,t,n){"use strict";n.d(t,{Q:function(){return s}});var r=n(57437),l=n(62177),a=n(34645),i=n(22169),o=n(57654);function s(e){let{column:t,title:n,className:s}=e;if(!t.getCanSort())return(0,r.jsx)("div",{className:(0,i.cn)(s),children:n});let u=(0,r.jsx)(l.jnn,{className:"ml-2 h-4 w-4"});return"desc"===t.getIsSorted()&&(u=(0,r.jsx)(l.veu,{className:"ml-2 h-4 w-4"})),"asc"===t.getIsSorted()&&(u=(0,r.jsx)(l.Hf3,{className:"ml-2 h-4 w-4"})),(0,r.jsx)("div",{className:(0,i.cn)("flex items-center space-x-2",s),children:(0,r.jsxs)(a.h_,{children:[(0,r.jsx)(a.$F,{asChild:!0,children:(0,r.jsxs)(o.z,{variant:"ghost",size:"sm",className:"-ml-3 h-8 data-[state=open]:bg-accent",children:[(0,r.jsx)("span",{children:n}),u]})}),(0,r.jsxs)(a.AW,{align:"start",children:[(0,r.jsxs)(a.Xi,{onClick:()=>t.toggleSorting(!1),children:[(0,r.jsx)(l.Hf3,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),"Asc"]}),(0,r.jsxs)(a.Xi,{onClick:()=>t.toggleSorting(!0),children:[(0,r.jsx)(l.veu,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),"Desc"]}),(0,r.jsx)(a.VD,{}),(0,r.jsxs)(a.Xi,{onClick:()=>t.toggleVisibility(!1),children:[(0,r.jsx)(l.L52,{className:"mr-2 h-3.5 w-3.5 text-muted-foreground/70"}),"Hide"]})]})]})})}},18157:function(e,t,n){"use strict";n.d(t,{EC:function(){return l},l:function(){return a},mb:function(){return i}});var r=n(31548);let l=e=>(null==e?void 0:e.type)==="m2m"||(null==e?void 0:e.type)==="o2m"&&!!(null==e?void 0:e.owner),a=(e,t,n,r,l,a)=>{if(!r){if(e.length){n(e[0]);return}if(!e.length&&t.length){n(l?null:void 0);return}n(l?null:void 0);return}let i=e.map(e=>({id:e.id})),o=i.length?i:void 0,s=t.map(e=>({id:e.id})),u=s.length?s:void 0,c=(null==o?void 0:o.length)||!l?o:null;n(a?{$add:o,$clear:u}:c)},i=async(e,t,n,l,a)=>{if(!l||!e.relation)return;let i={};if(t&&(i[l.label_field]={$like:"%".concat(t,"%")}),a){let t=e.relation.field;i["".concat(t,".id")]=a}return await (0,r.Q7)(l.name,{page:n,limit:20,filter:Object.keys(i).length?i:void 0,select:"id,".concat(l.label_field)})}},34560:function(e,t,n){"use strict";n.d(t,{Sc:function(){return y},D8:function(){return x}});var r=n(57437),l=n(8792),a=n(13571),i=n.n(a),o=n(51919),s=n(2265),u=n(62177),c=n(59143),d=n(22169);let m=s.forwardRef((e,t)=>{let{...n}=e;return(0,r.jsx)("nav",{ref:t,"aria-label":"breadcrumb",...n})});m.displayName="Breadcrumb";let f=s.forwardRef((e,t)=>{let{className:n,...l}=e;return(0,r.jsx)("ol",{ref:t,className:(0,d.cn)("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",n),...l})});f.displayName="BreadcrumbList";let p=s.forwardRef((e,t)=>{let{className:n,...l}=e;return(0,r.jsx)("li",{ref:t,className:(0,d.cn)("inline-flex items-center gap-1.5",n),...l})});p.displayName="BreadcrumbItem";let v=s.forwardRef((e,t)=>{let{asChild:n,className:l,...a}=e,i=n?c.g7:"a";return(0,r.jsx)(i,{ref:t,className:(0,d.cn)("transition-colors hover:text-foreground",l),...a})});v.displayName="BreadcrumbLink";let h=s.forwardRef((e,t)=>{let{className:n,...l}=e;return(0,r.jsx)("span",{ref:t,role:"link","aria-disabled":"true","aria-current":"page",className:(0,d.cn)("font-normal text-foreground",n),...l})});h.displayName="BreadcrumbPage";let g=e=>{let{children:t,className:n,...l}=e;return(0,r.jsx)("li",{role:"presentation","aria-hidden":"true",className:(0,d.cn)("[&>svg]:size-3.5",n),...l,children:null!=t?t:(0,r.jsx)(u.XCv,{})})};g.displayName="BreadcrumbSeparator";let b={title:"",description:"",breadcrumbs:[],actions:[]},x=e=>{o.ZP.dispatch("pageInfo",null!=e?e:[])},y=()=>{var e,t;let[n,a]=(0,s.useState)(b);(0,s.useEffect)(()=>{o.ZP.on("pageInfo",e=>{a(null!=e?e:b)})},[]);let u=(null==n?void 0:null===(e=n.breadcrumbs)||void 0===e?void 0:e.length)?[{name:"Dash",path:"/"},...null!==(t=n.breadcrumbs)&&void 0!==t?t:[]]:[],c=u.length;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("title",{children:n.title}),(0,r.jsx)(m,{children:(0,r.jsx)(f,{children:i()(u,e=>e.path).map((e,t)=>{let n=t===c-1;return(0,r.jsxs)(s.Fragment,{children:[(0,r.jsx)(p,{children:n?(0,r.jsx)(h,{children:e.name}):(0,r.jsx)(v,{asChild:!0,children:(0,r.jsx)(l.default,{href:e.path,children:e.name})})}),!n&&(0,r.jsx)(g,{})]},e.path)})})}),(n.title||n.description)&&(0,r.jsxs)("div",{className:"flex items-center justify-between space-y-2 w-full",children:[(0,r.jsxs)("div",{children:[n.title&&(0,r.jsx)("h1",{className:"text-lg font-semibold md:text-2xl",children:n.title}),n.description&&(0,r.jsx)("p",{className:"text-muted-foreground",children:n.description})]}),(0,r.jsx)("div",{className:"ml-auto mr-4 flex gap-2",children:n.actions})]})]})}},99773:function(e,t,n){"use strict";n.d(t,{IG:function(){return o},Pl:function(){return a},bO:function(){return i},gU:function(){return l}});var r=n(30248);let l=r.Ry({name:r.Z_().trim().min(1,{message:"Field name is required"}),server_name:r.Z_().optional(),label:r.Z_().min(1,{message:"Field label is required"}),type:r.Km(["bool","time","json","uuid","bytes","enum","string","text","int","int8","int16","int32","int64","uint","uint8","uint16","uint32","uint64","float32","float64","relation","file"]),multiple:r.O7().optional(),size:r.oQ.number().optional(),unique:r.O7().optional(),optional:r.O7().optional(),default:r.Yj().nullable(),sortable:r.O7().optional(),filterable:r.O7().optional(),renderer:r.Ry({class:r.Z_().optional(),settings:r.IM(r.Z_(),r.Yj()).optional()}).optional(),enums:r.IX(r.Ry({value:r.Z_().min(1,{message:"Enum value is required"}),label:r.Z_().min(1,{message:"Enum label is required"})})).optional(),relation:r.Ry({schema:r.Z_(),field:r.Z_(),type:r.Km(["o2o","o2m","m2m"]),owner:r.O7().optional(),fk_columns:r.IM(r.Z_(),r.Z_()).optional().nullable(),junction_table:r.Z_().optional(),optional:r.O7().optional()}).optional(),db:r.Ry({attr:r.Z_().optional(),collation:r.Z_().optional(),increment:r.O7().optional(),key:r.Z_().optional()}).nullable().optional(),is_system_field:r.O7().optional()}).superRefine((e,t)=>{var n;return"enum"!==e.type||null!=e&&null!==(n=e.enums)&&void 0!==n&&!!n.length||t.addIssue({code:r.NL.custom,message:"Enums are required for enum type",path:["type"]})}).superRefine((e,t)=>{if("relation"===e.type){var n,l,a,i,o,s;(null==e?void 0:null===(n=e.relation)||void 0===n?void 0:n.type)&&(null==e?void 0:null===(l=e.relation)||void 0===l?void 0:l.schema)&&(null==e?void 0:null===(a=e.relation)||void 0===a?void 0:a.field)||t.addIssue({code:r.NL.custom,message:"Relation type, schema, field is required for relation type",path:["type"]}),(null==e?void 0:null===(i=e.relation)||void 0===i?void 0:i.type)||t.addIssue({code:r.NL.custom,message:"Relation type, schema, field is required for relation type",path:["relation.type"]}),(null==e?void 0:null===(o=e.relation)||void 0===o?void 0:o.schema)||t.addIssue({code:r.NL.custom,message:"Relation schema is required for relation type",path:["relation.schema"]}),(null==e?void 0:null===(s=e.relation)||void 0===s?void 0:s.field)||t.addIssue({code:r.NL.custom,message:"Relation field is required for relation type",path:["relation.field"]})}return!0}),a=r.Ry({name:r.Z_().trim().min(1,{message:"Schema name is required"}),namespace:r.Z_().trim().min(1,{message:"Schema namespace is required"}),label_field:r.Z_().trim().min(1,{message:"Schema label field is required"}),disable_timestamp:r.O7(),is_system_schema:r.O7().optional(),fields:r.IX(l).min(1,{message:"At least one field is required"})}).refine(e=>{var t;let n=null==e?void 0:null===(t=e.fields)||void 0===t?void 0:t.map(e=>e.name),r=[...new Set(n)];return n.length===r.length},{message:"Field names should be unique",path:["fields"]}).refine(e=>{var t;let n=null==e?void 0:null===(t=e.fields)||void 0===t?void 0:t.map(e=>e.label),r=[...new Set(n)];return n.length===r.length},{message:"Field labels should be unique",path:["fields"]}).refine(e=>{var t;return(null==e?void 0:null===(t=e.fields)||void 0===t?void 0:t.length)>0},{message:"At least one field is required",path:["fields"]}),i={name:"",server_name:"",label:"",type:"string",enums:[],default:"",size:0,multiple:!1,db:{attr:"",collation:"",increment:!1,key:""},renderer:{class:"",settings:{}},relation:{schema:"",field:"",type:"o2o",owner:!1,fk_columns:{},junction_table:"",optional:!1},unique:!1,optional:!0,sortable:!0,filterable:!1,is_system_field:!1},o={name:"",namespace:"",label_field:"",disable_timestamp:!1,fields:[]}},33277:function(e,t,n){"use strict";n.d(t,{C:function(){return o}});var r=n(57437);n(2265);var l=n(57742),a=n(22169);let i=(0,l.j)("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:n,...l}=e;return(0,r.jsx)("div",{className:(0,a.cn)(i({variant:n}),t),...l})}},26739:function(e,t,n){"use strict";n.d(t,{di:function(){return p},e8:function(){return c},fu:function(){return m},mY:function(){return s},rb:function(){return d},sZ:function(){return u},zz:function(){return f}});var r=n(57437),l=n(2265),a=n(62177),i=n(38594),o=n(22169);n(9208);let s=l.forwardRef((e,t)=>{let{className:n,...l}=e;return(0,r.jsx)(i.mY,{ref:t,className:(0,o.cn)("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",n),...l})});s.displayName=i.mY.displayName;let u=l.forwardRef((e,t)=>{let{className:n,...l}=e;return(0,r.jsxs)("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[(0,r.jsx)(a._Ve,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),(0,r.jsx)(i.mY.Input,{ref:t,className:(0,o.cn)("flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",n),...l})]})});u.displayName=i.mY.Input.displayName;let c=l.forwardRef((e,t)=>{let{className:n,...l}=e;return(0,r.jsx)(i.mY.List,{ref:t,className:(0,o.cn)("max-h-[300px] overflow-y-auto overflow-x-hidden",n),...l})});c.displayName=i.mY.List.displayName;let d=l.forwardRef((e,t)=>(0,r.jsx)(i.mY.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));d.displayName=i.mY.Empty.displayName;let m=l.forwardRef((e,t)=>{let{className:n,...l}=e;return(0,r.jsx)(i.mY.Group,{ref:t,className:(0,o.cn)("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",n),...l})});m.displayName=i.mY.Group.displayName;let f=l.forwardRef((e,t)=>{let{className:n,...l}=e;return(0,r.jsx)(i.mY.Separator,{ref:t,className:(0,o.cn)("-mx-1 h-px bg-border",n),...l})});f.displayName=i.mY.Separator.displayName;let p=l.forwardRef((e,t)=>{let{className:n,...l}=e;return(0,r.jsx)(i.mY.Item,{ref:t,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none aria-selected:bg-accent aria-selected:text-accent-foreground data-[disabled='true']:pointer-events-none data-[disabled='true']:opacity-50",n),...l})});p.displayName=i.mY.Item.displayName},31548:function(e,t,n){"use strict";n.d(t,{Q7:function(){return o},Vj:function(){return a},il:function(){return s},rP:function(){return i},yd:function(){return u}});var r=n(18157),l=n(84971);let a=async(e,t,n)=>{let a={$add:{},$set:{},$clear:{}};for(let l of e.fields)if(l.name in t||l.is_system_field){if("relation"===l.type||"file"===l.type){var i,o;if(n){if(null===t[l.name]){a.$clear[l.name]=!0;continue}if(t[l.name].$nochange)continue;if(!(0,r.EC)(l.relation)){a.$set[l.name]=t[l.name];continue}t[l.name].$add&&(a.$add[l.name]=t[l.name].$add),t[l.name].$clear&&(a.$clear[l.name]=t[l.name].$clear);continue}if(null==t?void 0:null===(i=t[l.name])||void 0===i?void 0:i.$add){a[l.name]=t[l.name].$add;continue}if(null==t?void 0:null===(o=t[l.name])||void 0===o?void 0:o.$clear){delete a[l.name];continue}}a[l.name]=t[l.name]}return 0===Object.keys(a.$add).length&&delete a.$add,0===Object.keys(a.$set).length&&delete a.$set,0===Object.keys(a.$clear).length&&delete a.$clear,n?await (0,l.qb)("/content/".concat(e.name,"/").concat(n),a):await (0,l.SO)("/content/".concat(e.name),a)},i=e=>{let t={};return(null==e?void 0:e.limit)&&(t.limit=e.limit),(null==e?void 0:e.page)&&(t.page=e.page),(null==e?void 0:e.sort)&&(t.sort=e.sort),(null==e?void 0:e.select)&&(t.select=e.select),(null==e?void 0:e.filter)&&(t.filter=JSON.stringify(e.filter)),new URLSearchParams(t).toString()},o=async(e,t)=>{if(!e)throw Error("Schema name is required");let n={};(null==t?void 0:t.limit)&&(n.limit=t.limit),(null==t?void 0:t.page)&&(n.page=t.page),(null==t?void 0:t.sort)&&(n.sort=t.sort),(null==t?void 0:t.select)&&(n.select=t.select),(null==t?void 0:t.filter)&&(n.filter=JSON.stringify(t.filter));let r=Object.keys(n).length>0?"?"+i(t):"";return(0,l.dX)("/content/".concat(e).concat(r))},s=async(e,t,n)=>{let r=(null==n?void 0:n.length)?"?select=".concat(n.join(",")):"";return(0,l.dX)("/content/".concat(e.name,"/").concat(t).concat(r))},u=async(e,t)=>(0,l.HG)("/content/".concat(e,"/").concat(t))},79984:function(e,t,n){"use strict";n.d(t,{Hz:function(){return m},Il:function(){return i},JT:function(){return u},MG:function(){return o},Qk:function(){return s},Vo:function(){return c},_8:function(){return a},aF:function(){return d}});var r=n(2265),l=n(18157);let a={appConfig:{menus:[],schemas:[]},setAppConfig:()=>null,reloadAppConfig:()=>Promise.resolve()},i=(0,r.createContext)(a),o=()=>(0,r.useContext)(i).appConfig,s=()=>(0,r.useContext)(i).appConfig.schemas,u=e=>(0,r.useContext)(i).appConfig.schemas.find(t=>t.name===e),c=(0,r.createContext)({user:void 0,setUser:()=>null}),d=()=>(0,r.useContext)(c).user,m=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e?e.fields.filter(e=>"relation"===e.type&&e.relation||"file"===e.type).map(e=>{if(!e.relation)throw Error("Field ".concat(e.name," is relation type but has no relation field"));if((0,l.EC)(e.relation)&&"file"!==e.type)return null;let n=t.find(t=>{var n;return t.name===(null===(n=e.relation)||void 0===n?void 0:n.schema)});if(!n)throw Error("Schema ".concat(e.relation.schema," not found"));let r=["".concat(e.name,".id"),"".concat(e.name,".").concat(n.label_field)];return"file"===e.type&&r.push("".concat(e.name,".path"),"".concat(e.name,".type"),"".concat(e.name,".disk")),r.join(",")}).filter(Boolean):[]}},96304:function(e,t,n){"use strict";n.d(t,{J1:function(){return i},cQ:function(){return l},uV:function(){return o},uX:function(){return a}});var r=n(84971);let l=async()=>(await (0,r.dX)("/schema")).filter(e=>!e.is_junction_schema),a=async(e,t,n)=>{var l,a;let i=null;return(null==(i=t?await (0,r.qb)("/schema/".concat(t),{schema:e,rename_fields:null!=n?n:[]}):await (0,r.SO)("/schema",e))?void 0:null===(l=i.fields)||void 0===l?void 0:l.length)&&(i.fields=(null!==(a=null==i?void 0:i.fields)&&void 0!==a?a:[]).map(e=>(e.server_name=e.name,e))),i},i=async e=>{var t,n;if(!e)return null;let l=await (0,r.dX)("/schema/".concat(e));return(null==l?void 0:null===(t=l.fields)||void 0===t?void 0:t.length)&&(l.fields=(null!==(n=null==l?void 0:l.fields)&&void 0!==n?n:[]).map(e=>(e.server_name=e.name,e))),l},o=e=>(0,r.HG)("/schema/".concat(e))},38594:function(e,t,n){"use strict";n.d(t,{mY:function(){return I}});var r=/[\\\/_+.#"@\[\(\{&]/,l=/[\\\/_+.#"@\[\(\{&]/g,a=/[\s-]/,i=/[\s-]/g;function o(e){return e.toLowerCase().replace(i," ")}var s=n(72936),u=n(2265),c=n(29586),d='[cmdk-group=""]',m='[cmdk-group-items=""]',f='[cmdk-item=""]',p=`${f}:not([aria-disabled="true"])`,v="cmdk-item-select",h="data-value",g=(e,t,n)=>{var s;return s=e,function e(t,n,o,s,u,c,d){if(c===n.length)return u===t.length?1:.99;var m=`${u},${c}`;if(void 0!==d[m])return d[m];for(var f,p,v,h,g=s.charAt(c),b=o.indexOf(g,u),x=0;b>=0;)(f=e(t,n,o,s,b+1,c+1,d))>x&&(b===u?f*=1:r.test(t.charAt(b-1))?(f*=.8,(v=t.slice(u,b-1).match(l))&&u>0&&(f*=Math.pow(.999,v.length))):a.test(t.charAt(b-1))?(f*=.9,(h=t.slice(u,b-1).match(i))&&u>0&&(f*=Math.pow(.999,h.length))):(f*=.17,u>0&&(f*=Math.pow(.999,b-u))),t.charAt(b)!==n.charAt(c)&&(f*=.9999)),(f<.1&&o.charAt(b-1)===s.charAt(c+1)||s.charAt(c+1)===s.charAt(c)&&o.charAt(b-1)!==s.charAt(c))&&.1*(p=e(t,n,o,s,b+1,c+2,d))>f&&(f=.1*p),f>x&&(x=f),b=o.indexOf(g,b+1);return d[m]=x,x}(s=n&&n.length>0?`${s+" "+n.join(" ")}`:s,t,o(s),o(t),0,0,{})},b=u.createContext(void 0),x=()=>u.useContext(b),y=u.createContext(void 0),w=()=>u.useContext(y),j=u.createContext(void 0),N=u.forwardRef((e,t)=>{let n=A(()=>{var t,n;return{search:"",value:null!=(n=null!=(t=e.value)?t:e.defaultValue)?n:"",filtered:{count:0,items:new Map,groups:new Set}}}),r=A(()=>new Set),l=A(()=>new Map),a=A(()=>new Map),i=A(()=>new Set),o=$(e),{label:s,children:x,value:w,onValueChange:j,filter:N,shouldFilter:_,loop:S,disablePointerSelection:k=!1,vimBindings:E=!0,...C}=e,R=u.useId(),I=u.useId(),V=u.useId(),q=u.useRef(null),F=M();O(()=>{if(void 0!==w){let e=w.trim();n.current.value=e,P.emit()}},[w]),O(()=>{F(6,Q)},[]);let P=u.useMemo(()=>({subscribe:e=>(i.current.add(e),()=>i.current.delete(e)),snapshot:()=>n.current,setState:(e,t,r)=>{var l,a,i;if(!Object.is(n.current[e],t)){if(n.current[e]=t,"search"===e)z(),K(),F(1,H);else if("value"===e&&(r||F(5,Q),(null==(l=o.current)?void 0:l.value)!==void 0)){null==(i=(a=o.current).onValueChange)||i.call(a,null!=t?t:"");return}P.emit()}},emit:()=>{i.current.forEach(e=>e())}}),[]),Y=u.useMemo(()=>({value:(e,t,r)=>{var l;t!==(null==(l=a.current.get(e))?void 0:l.value)&&(a.current.set(e,{value:t,keywords:r}),n.current.filtered.items.set(e,D(t,r)),F(2,()=>{K(),P.emit()}))},item:(e,t)=>(r.current.add(e),t&&(l.current.has(t)?l.current.get(t).add(e):l.current.set(t,new Set([e]))),F(3,()=>{z(),K(),n.current.value||H(),P.emit()}),()=>{a.current.delete(e),r.current.delete(e),n.current.filtered.items.delete(e);let t=X();F(4,()=>{z(),(null==t?void 0:t.getAttribute("id"))===e&&H(),P.emit()})}),group:e=>(l.current.has(e)||l.current.set(e,new Set),()=>{a.current.delete(e),l.current.delete(e)}),filter:()=>o.current.shouldFilter,label:s||e["aria-label"],disablePointerSelection:k,listId:R,inputId:V,labelId:I,listInnerRef:q}),[]);function D(e,t){var r,l;let a=null!=(l=null==(r=o.current)?void 0:r.filter)?l:g;return e?a(e,n.current.search,t):0}function K(){if(!n.current.search||!1===o.current.shouldFilter)return;let e=n.current.filtered.items,t=[];n.current.filtered.groups.forEach(n=>{let r=l.current.get(n),a=0;r.forEach(t=>{a=Math.max(e.get(t),a)}),t.push([n,a])});let r=q.current;W().sort((t,n)=>{var r,l;let a=t.getAttribute("id"),i=n.getAttribute("id");return(null!=(r=e.get(i))?r:0)-(null!=(l=e.get(a))?l:0)}).forEach(e=>{let t=e.closest(m);t?t.appendChild(e.parentElement===t?e:e.closest(`${m} > *`)):r.appendChild(e.parentElement===r?e:e.closest(`${m} > *`))}),t.sort((e,t)=>t[1]-e[1]).forEach(e=>{let t=q.current.querySelector(`${d}[${h}="${encodeURIComponent(e[0])}"]`);null==t||t.parentElement.appendChild(t)})}function H(){let e=W().find(e=>"true"!==e.getAttribute("aria-disabled")),t=null==e?void 0:e.getAttribute(h);P.setState("value",t||void 0)}function z(){var e,t,i,s;if(!n.current.search||!1===o.current.shouldFilter){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let u=0;for(let l of r.current){let r=D(null!=(t=null==(e=a.current.get(l))?void 0:e.value)?t:"",null!=(s=null==(i=a.current.get(l))?void 0:i.keywords)?s:[]);n.current.filtered.items.set(l,r),r>0&&u++}for(let[e,t]of l.current)for(let r of t)if(n.current.filtered.items.get(r)>0){n.current.filtered.groups.add(e);break}n.current.filtered.count=u}function Q(){var e,t,n;let r=X();r&&((null==(e=r.parentElement)?void 0:e.firstChild)===r&&(null==(n=null==(t=r.closest(d))?void 0:t.querySelector('[cmdk-group-heading=""]'))||n.scrollIntoView({block:"nearest"})),r.scrollIntoView({block:"nearest"}))}function X(){var e;return null==(e=q.current)?void 0:e.querySelector(`${f}[aria-selected="true"]`)}function W(){var e;return Array.from(null==(e=q.current)?void 0:e.querySelectorAll(p))}function B(e){let t=W()[e];t&&P.setState("value",t.getAttribute(h))}function G(e){var t;let n=X(),r=W(),l=r.findIndex(e=>e===n),a=r[l+e];null!=(t=o.current)&&t.loop&&(a=l+e<0?r[r.length-1]:l+e===r.length?r[0]:r[l+e]),a&&P.setState("value",a.getAttribute(h))}function U(e){let t=X(),n=null==t?void 0:t.closest(d),r;for(;n&&!r;)r=null==(n=e>0?function(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}(n,d):function(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}(n,d))?void 0:n.querySelector(p);r?P.setState("value",r.getAttribute(h)):G(e)}let J=()=>B(W().length-1),T=e=>{e.preventDefault(),e.metaKey?J():e.altKey?U(1):G(1)},ee=e=>{e.preventDefault(),e.metaKey?B(0):e.altKey?U(-1):G(-1)};return u.createElement(c.WV.div,{ref:t,tabIndex:-1,...C,"cmdk-root":"",onKeyDown:e=>{var t;if(null==(t=C.onKeyDown)||t.call(C,e),!e.defaultPrevented)switch(e.key){case"n":case"j":E&&e.ctrlKey&&T(e);break;case"ArrowDown":T(e);break;case"p":case"k":E&&e.ctrlKey&&ee(e);break;case"ArrowUp":ee(e);break;case"Home":e.preventDefault(),B(0);break;case"End":e.preventDefault(),J();break;case"Enter":if(!e.nativeEvent.isComposing&&229!==e.keyCode){e.preventDefault();let t=X();if(t){let e=new Event(v);t.dispatchEvent(e)}}}}},u.createElement("label",{"cmdk-label":"",htmlFor:Y.inputId,id:Y.labelId,style:L},s),Z(e,e=>u.createElement(y.Provider,{value:P},u.createElement(b.Provider,{value:Y},e))))}),_=u.forwardRef((e,t)=>{var n,r;let l=u.useId(),a=u.useRef(null),i=u.useContext(j),o=x(),s=$(e),d=null!=(r=null==(n=s.current)?void 0:n.forceMount)?r:null==i?void 0:i.forceMount;O(()=>{if(!d)return o.item(l,null==i?void 0:i.id)},[d]);let m=F(l,a,[e.value,e.children,a],e.keywords),f=w(),p=q(e=>e.value&&e.value===m.current),h=q(e=>!!d||!1===o.filter()||!e.search||e.filtered.items.get(l)>0);function g(){var e,t;b(),null==(t=(e=s.current).onSelect)||t.call(e,m.current)}function b(){f.setState("value",m.current,!0)}if(u.useEffect(()=>{let t=a.current;if(!(!t||e.disabled))return t.addEventListener(v,g),()=>t.removeEventListener(v,g)},[h,e.onSelect,e.disabled]),!h)return null;let{disabled:y,value:N,onSelect:_,forceMount:S,keywords:k,...E}=e;return u.createElement(c.WV.div,{ref:V([a,t]),...E,id:l,"cmdk-item":"",role:"option","aria-disabled":!!y,"aria-selected":!!p,"data-disabled":!!y,"data-selected":!!p,onPointerMove:y||o.disablePointerSelection?void 0:b,onClick:y?void 0:g},e.children)}),S=u.forwardRef((e,t)=>{let{heading:n,children:r,forceMount:l,...a}=e,i=u.useId(),o=u.useRef(null),s=u.useRef(null),d=u.useId(),m=x(),f=q(e=>!!l||!1===m.filter()||!e.search||e.filtered.groups.has(i));O(()=>m.group(i),[]),F(i,o,[e.value,e.heading,s]);let p=u.useMemo(()=>({id:i,forceMount:l}),[l]);return u.createElement(c.WV.div,{ref:V([o,t]),...a,"cmdk-group":"",role:"presentation",hidden:!f||void 0},n&&u.createElement("div",{ref:s,"cmdk-group-heading":"","aria-hidden":!0,id:d},n),Z(e,e=>u.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?d:void 0},u.createElement(j.Provider,{value:p},e))))}),k=u.forwardRef((e,t)=>{let{alwaysRender:n,...r}=e,l=u.useRef(null),a=q(e=>!e.search);return n||a?u.createElement(c.WV.div,{ref:V([l,t]),...r,"cmdk-separator":"",role:"separator"}):null}),E=u.forwardRef((e,t)=>{let{onValueChange:n,...r}=e,l=null!=e.value,a=w(),i=q(e=>e.search),o=q(e=>e.value),s=x(),d=u.useMemo(()=>{var e;let t=null==(e=s.listInnerRef.current)?void 0:e.querySelector(`${f}[${h}="${encodeURIComponent(o)}"]`);return null==t?void 0:t.getAttribute("id")},[]);return u.useEffect(()=>{null!=e.value&&a.setState("search",e.value)},[e.value]),u.createElement(c.WV.input,{ref:t,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":s.listId,"aria-labelledby":s.labelId,"aria-activedescendant":d,id:s.inputId,type:"text",value:l?e.value:i,onChange:e=>{l||a.setState("search",e.target.value),null==n||n(e.target.value)}})}),C=u.forwardRef((e,t)=>{let{children:n,label:r="Suggestions",...l}=e,a=u.useRef(null),i=u.useRef(null),o=x();return u.useEffect(()=>{if(i.current&&a.current){let e=i.current,t=a.current,n,r=new ResizeObserver(()=>{n=requestAnimationFrame(()=>{let n=e.offsetHeight;t.style.setProperty("--cmdk-list-height",n.toFixed(1)+"px")})});return r.observe(e),()=>{cancelAnimationFrame(n),r.unobserve(e)}}},[]),u.createElement(c.WV.div,{ref:V([a,t]),...l,"cmdk-list":"",role:"listbox","aria-label":r,id:o.listId},Z(e,e=>u.createElement("div",{ref:V([i,o.listInnerRef]),"cmdk-list-sizer":""},e)))}),R=u.forwardRef((e,t)=>{let{open:n,onOpenChange:r,overlayClassName:l,contentClassName:a,container:i,...o}=e;return u.createElement(s.fC,{open:n,onOpenChange:r},u.createElement(s.h_,{container:i},u.createElement(s.aV,{"cmdk-overlay":"",className:l}),u.createElement(s.VY,{"aria-label":e.label,"cmdk-dialog":"",className:a},u.createElement(N,{ref:t,...o}))))}),I=Object.assign(N,{List:C,Item:_,Input:E,Group:S,Separator:k,Dialog:R,Empty:u.forwardRef((e,t)=>q(e=>0===e.filtered.count)?u.createElement(c.WV.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),Loading:u.forwardRef((e,t)=>{let{progress:n,children:r,label:l="Loading...",...a}=e;return u.createElement(c.WV.div,{ref:t,...a,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":l},Z(e,e=>u.createElement("div",{"aria-hidden":!0},e)))})});function $(e){let t=u.useRef(e);return O(()=>{t.current=e}),t}var O="undefined"==typeof window?u.useEffect:u.useLayoutEffect;function A(e){let t=u.useRef();return void 0===t.current&&(t.current=e()),t}function V(e){return t=>{e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}}function q(e){let t=w(),n=()=>e(t.snapshot());return u.useSyncExternalStore(t.subscribe,n,n)}function F(e,t,n,r=[]){let l=u.useRef(),a=x();return O(()=>{var i;let o=(()=>{var e;for(let t of n){if("string"==typeof t)return t.trim();if("object"==typeof t&&"current"in t)return t.current?null==(e=t.current.textContent)?void 0:e.trim():l.current}})(),s=r.map(e=>e.trim());a.value(e,o,s),null==(i=t.current)||i.setAttribute(h,o),l.current=o}),l}var M=()=>{let[e,t]=u.useState(),n=A(()=>new Map);return O(()=>{n.current.forEach(e=>e()),n.current=new Map},[e]),(e,r)=>{n.current.set(e,r),t({})}};function Z({asChild:e,children:t},n){let r;return e&&u.isValidElement(t)?u.cloneElement("function"==typeof(r=t.type)?r(t.props):"render"in r?r.render(t.props):t,{ref:t.ref},n(t.props.children)):n(t)}var L={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"}}},function(e){e.O(0,[310,637,872,792,571,732,998,156,704,834,971,69,744],function(){return e(e.s=83877)}),_N_E=e.O()}]);